# KWS (Kitchen Web Service) Configuration
# Environment variables can override with KWS_ prefix
# e.g., KWS_SERVER_PORT=8080

app:
  name: kws
  env: production  # development, staging, production
  debug: false

server:
  host: 0.0.0.0
  port: 8080
  read_timeout: 30s
  write_timeout: 30s
  shutdown_timeout: 10s

# MongoDB configuration
mongodb:
  uri: mongodb://localhost:27017
  database: kws
  max_pool_size: 100
  min_pool_size: 10
  connect_timeout: 10s

# Keycloak configuration
keycloak:
  url: http://localhost:8180
  admin_realm: master
  admin_client_id: admin-cli
  admin_username: admin
  admin_password: admin
  # Default realm for new tenants
  default_realm_template: kws-tenant-template

# Certificate Authority for KOS mTLS
certificate:
  ca_dir: /etc/kws/ca
  cert_validity_days: 365
  ca_validity_days: 3650

# JWT settings for KOS service accounts
jwt:
  access_token_ttl: 15m
  refresh_threshold: 2m
  issuer: kws

# Logging configuration
logging:
  level: info  # debug, info, warn, error
  format: json  # console, json
  output: stdout  # stdout or file path

# CORS settings
cors:
  allowed_origins:
    - "*"
  allowed_methods:
    - GET
    - POST
    - PUT
    - DELETE
    - OPTIONS
  allowed_headers:
    - Authorization
    - Content-Type
    - X-Tenant-ID
