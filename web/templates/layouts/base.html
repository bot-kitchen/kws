{{define "base"}}
<!DOCTYPE html>
<html lang="en" x-data="theme" :class="darkMode ? 'dark' : ''">
<head>
    {{template "head" .}}
</head>
<body class="bg-background-light dark:bg-background-dark text-slate-900 dark:text-white font-display antialiased overflow-hidden h-screen flex">
    <aside class="hidden md:flex flex-col h-full border-r border-gray-200 dark:border-border-dark bg-white dark:bg-background-dark shrink-0 transition-all duration-300"
           :class="sidebarOpen ? 'w-64' : 'w-16'">
        {{template "sidebar" .}}
    </aside>
    <div class="flex-1 h-full overflow-hidden flex flex-col">
        {{template "header" .}}
        <main class="flex-1 {{if eq .ActivePage "dashboard"}}overflow-hidden{{else}}overflow-y-auto p-6 md:p-8{{end}}">
            <div class="{{if eq .ActivePage "dashboard"}}h-full{{else}}max-w-7xl mx-auto{{end}}">
                {{template "content" .}}
            </div>
        </main>
    </div>

    <!-- Toast container -->
    <div id="toast-container" class="fixed bottom-4 right-4 z-50 space-y-2"></div>
</body>
</html>
{{end}}
